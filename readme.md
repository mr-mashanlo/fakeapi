# FakeAPI

**FakeAPI** - это простое API, которое помогает вам быстро создать сервер для тестирования ваших приложений или просто для обучения. Здесь вы найдете маршруты для работы с пользователями и постами, а также базовую систему аутентификации.

## Установка и запуск

1. **Клонировать репозиторий**:
```bash
git clone https://github.com/mr-mashanlo/fakeapi.git
```

2. **Перейти в папку**:
```bash
cd fakeapi
```

3. **Установить зависимости**:
```bash
npm install
```

4. **Создайте файл .env в корне проекта и добавьте переменную окружения**:
```makefile
PORT=5000
ACCESS_KEY = 'YOUR_ACCESS_KEY'
```

5. **Запустить сервер**:
```bash
npm run dev
```

## Маршруты API

### Аутентификация

```makefile
|METHOD    |ROUTE               |PAYLOAD                  |ABOUT                                   |
|----------|--------------------|-------------------------|----------------------------------------|
|POST      |/auth/signin        |email, password          |Вход пользователя в систему             |
|POST      |/auth/signup        |email, password, confirm |Регистрация нового пользователя         |
|GET       |/auth/refreshtoken  |                         |Обновление токена доступа               |
```

### Пользователи

```makefile
|METHOD    |ROUTE               |ABOUT                                                             |
|----------|--------------------|------------------------------------------------------------------|
|GET       |/users/all          |Получение списка всех пользователей                               |
|GET       |/users/me           |Получение информации о текущем авторизованном пользователе        |
|GET       |/users/:id          |Получение информации о конкретном пользователе по ID              |
```

### Посты

```makefile
|METHOD    |ROUTE               |PAYLOAD                  |ABOUT                                   |
|----------|--------------------|-------------------------|----------------------------------------|
|POST      |/posts              |title, body              |Создание нового поста                   |
|GET       |/posts/all          |                         |Получение списка всех постов            |
|GET       |/posts/:id          |                         |Получение конкретного поста по ID       |
|PUT       |/posts/:id          |title, body              |Обновление поста по ID.                 |
|DELETE    |/posts/:id          |                         |Удаление поста по ID                    |
```

### Обработка ошибок

Все ошибки обрабатываются через errorMiddleware, который возвращает ответ в формате JSON с соответствующим HTTP-кодом и сообщением об ошибке.

Пример ответа на ошибку:
```json
{
  "code": 401,
  "message": "Access denied"
}
```